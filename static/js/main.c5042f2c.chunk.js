(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/Black-cat-asks-logo.d7a90d8c.png"},34:function(e,t,a){e.exports=a.p+"static/media/play.5f9233ce.png"},37:function(e,t,a){e.exports=a(60)},42:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t){},53:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(20),r=a.n(s),c=(a(42),a(15)),o=a(3),l=a(12),u=(a(48),a(16)),d=a(30),m=a(29),p=a(13),h={name:"",assertions:0,score:0,gravatarEmail:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(p.a)(Object(p.a)({},e),{},{name:t.payload.name,gravatarEmail:t.payload.email});case"POINTS_PLAYER":return Object(p.a)(Object(p.a)({},e),{},{score:e.score+t.payload});case"ASSERTIONS_PLAYER":return Object(p.a)(Object(p.a)({},e),{},{assertions:e.assertions+t.payload});default:return e}};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_TOKEN_API":return t.payload;default:return e}},f=Object(u.combineReducers)({player:b,token:v}),y=Object(u.createStore)(f,Object(m.composeWithDevTools)(Object(u.applyMiddleware)(d.a)));window.Cypress&&(window.store=y);var g=y,k=a(17),E=a.n(k),O=a(22),j=a(21),C=a(4),N=a(5),S=a(2),w=a(7),x=a(6),q=function(e,t){return localStorage.setItem(e,t)},I=function(){return fetch("https://opentdb.com/api_token.php?command=request").then((function(e){return e.json()})).then((function(e){return e.token}))},Q=function(e){return fetch("https://opentdb.com/api.php?amount=5&token=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.results}))},D=(a(50),a(31)),A=a.n(D),P=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).state={name:"",email:"",isDisabled:"true"},e.handleChange=e.handleChange.bind(Object(S.a)(e)),e.handleClick=e.handleClick.bind(Object(S.a)(e)),e.validateInput=e.validateInput.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n),this.validateInput)}},{key:"validateInput",value:function(){var e=this.state,t=e.email,a=e.name;return/^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.?$/i.test(String(t).toLowerCase())&&0!==a.length?this.setState({isDisabled:!1}):this.setState({isDisabled:!0})}},{key:"handleClick",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.history,n=t.token,i=t.login,e.next=3,I();case 3:s=e.sent,i(this.state),n(s),q("token",s),a.push("/play");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.isDisabled,s=this.props.history;return i.a.createElement("div",{className:"main-login"},i.a.createElement("form",{className:"form"},i.a.createElement("div",null,i.a.createElement("img",{width:"300px",src:A.a,alt:"logo"})),i.a.createElement("label",{htmlFor:"name"},"Nome:",i.a.createElement("input",{type:"text","data-testid":"input-player-name",placeholder:"Nome",name:"name",id:"name",value:t,onChange:this.handleChange})),i.a.createElement("label",{htmlFor:"email"},"Email:",i.a.createElement("input",{type:"text","data-testid":"input-gravatar-email",placeholder:"example@email.com",name:"email",id:"email",value:a,onChange:this.handleChange})),i.a.createElement("button",{className:"btn-play",type:"button","data-testid":"btn-play",onClick:this.handleClick,disabled:n},"Play"),i.a.createElement("button",{className:"btn-settings",type:"button","data-testid":"btn-settings",onClick:function(){return s.push("/settings")}},"Settings")))}}]),a}(n.Component),T=Object(l.b)(null,(function(e){return{login:function(t){return e(function(e){return{type:"LOGIN",payload:e}}(t))},token:function(t){return e(function(e){return{type:"RESPONSE_TOKEN_API",payload:e}}(t))}}}))(P),R=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",{"data-testid":"settings-title"},"P\xe1gina do Settings"))}}]),a}(n.Component),_=a(32),B=a.n(_),L=(a(53),function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).state={hash:""},e.md5Converter=e.md5Converter.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.md5Converter()}},{key:"md5Converter",value:function(){var e=this.props.email,t=B()(e).toString();this.setState({hash:t})}},{key:"render",value:function(){var e=this.state.hash,t=this.props,a=t.name,n=t.score;return i.a.createElement("div",null,i.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap",rel:"stylesheet"}),i.a.createElement("header",{className:"header"},i.a.createElement("div",{className:"title-div"},i.a.createElement(c.c,{to:"/",activeStyle:{textDecoration:"none"}},i.a.createElement("h1",{className:"title-game",textDecoration:"none"},"Black Cat Asks..."))),i.a.createElement("div",{className:"infos"},i.a.createElement("img",{className:"image",src:"https://www.gravatar.com/avatar/".concat(e),"data-testid":"header-profile-picture",alt:a}),i.a.createElement("p",{className:"name","data-testid":"header-player-name"},a),i.a.createElement("p",{"data-testid":"header-score"},n))))}}]),a}(n.Component)),M=Object(l.b)((function(e){return{name:e.player.name,email:e.player.gravatarEmail,score:e.player.score}}))(L),F=a(35),H=a(36),V=(a(57),function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).state={alternatives:[],seconds:30,clicked:!1,disabledButton:!1,assertions:0},e.alternativesQuestions=e.alternativesQuestions.bind(Object(S.a)(e)),e.changeColor=e.changeColor.bind(Object(S.a)(e)),e.handleClick=e.handleClick.bind(Object(S.a)(e)),e.regressTimer=e.regressTimer.bind(Object(S.a)(e)),e.stopTime=e.stopTime.bind(Object(S.a)(e)),e.assertionQuestions=e.assertionQuestions.bind(Object(S.a)(e)),e.levelQuestion=e.levelQuestion.bind(Object(S.a)(e)),e.questionScore=e.questionScore.bind(Object(S.a)(e)),e.changeDisplayVisible=e.changeDisplayVisible.bind(Object(S.a)(e)),e.handleNextClick=e.handleNextClick.bind(Object(S.a)(e)),e.clickedAnswer=e.clickedAnswer.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.alternativesQuestions(),this.regressTimer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.question;e.question!==t&&this.alternativesQuestions()}},{key:"regressTimer",value:function(){var e=this,t=setInterval((function(){var a=e.state,n=a.seconds,i=a.clicked;if(1===n||!0===i)return e.setState({disabledButton:!0}),clearInterval(t);e.setState({seconds:n-1})}),1e3)}},{key:"alternativesQuestions",value:function(){var e=this.props.question;if(Object.keys(e).length>0){var t=e.incorrect_answers.map((function(e,t){return[e,"wrong-answer-".concat(t),Math.floor(99*Math.random())+1]})),a=[].concat(Object(H.a)(t),[[e.correct_answer,"correct-answer",Math.floor(99*Math.random())+1]]).sort((function(e,t){return e[2]-t[2]}));this.setState({alternatives:a})}}},{key:"changeColor",value:function(){document.querySelectorAll(".answers").forEach((function(e){e.classList.toggle("correct-answer"===e.name?"correct":"incorrect")}))}},{key:"levelQuestion",value:function(){var e=this.props.question;return"medium"===e.difficulty?2:"hard"===e.difficulty?3:1}},{key:"questionScore",value:function(){var e=this.state.seconds;(0,this.props.points)(10+this.levelQuestion()*e)}},{key:"stopTime",value:function(){this.setState({clicked:!0})}},{key:"assertionQuestions",value:function(){var e=this.state.assertions,t=this.props.assert;this.setState({assertions:e+1},(function(){return t(e)}))}},{key:"clickedAnswer",value:function(e){e.style.backgroundColor="yellow",console.log(e)}},{key:"handleClick",value:function(e){var t=e.target;this.changeColor(),this.stopTime(),"correct-answer"===t.name?(this.questionScore(),this.assertionQuestions()):this.clickedAnswer(t),this.changeDisplayVisible()}},{key:"changeDisplayVisible",value:function(){document.querySelector(".next-button").style.visibility="visible"}},{key:"handleNextClick",value:function(){(0,this.props.nextQuestion)(),this.setState({alternatives:[],seconds:30,clicked:!1,disabledButton:!1}),this.regressTimer()}},{key:"render",value:function(){var e=this,t=this.props.question,a=this.state,n=a.alternatives,s=a.disabledButton,r=a.seconds;return i.a.createElement("main",{className:"main-container"},i.a.createElement("div",{className:"container-question"},i.a.createElement("p",{className:"question-category","data-testid":"question-category"},t.category),i.a.createElement("p",{className:"question-text","data-testid":"question-text"},t.question)),i.a.createElement("div",{"data-testid":"answer-options",className:"container-answer"},n.map((function(t,a){var n=Object(F.a)(t,2),r=n[0],c=n[1];return i.a.createElement("button",{className:"answers",type:"button",key:a,name:c,"data-testid":c,disabled:s,onClick:e.handleClick,id:c},r)}))),i.a.createElement("div",{className:"timer-link"},i.a.createElement("p",null,"Timer: ".concat(r)),i.a.createElement(c.b,{to:"/feedback",className:"feedback"},"Feedback")),i.a.createElement("button",{className:"next-button",type:"button","data-testid":"btn-next",onClick:this.handleNextClick},"Next"))}}]),a}(n.Component)),W=Object(l.b)(null,(function(e){return{points:function(t){return e(function(e){return{type:"POINTS_PLAYER",payload:e}}(t))},assert:function(t){return e(function(e){return{type:"ASSERTIONS_PLAYER",payload:e}}(t))}}}))(V),Y=a(34),z=a.n(Y),K=(a(58),function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).state={questions:[],render:!1,actualQuestion:0},e.getReponseAPI=e.getReponseAPI.bind(Object(S.a)(e)),e.nextQuestion=e.nextQuestion.bind(Object(S.a)(e)),e.changeDisplayHidden=e.changeDisplayHidden.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.getReponseAPI()}},{key:"getReponseAPI",value:function(){var e=Object(O.a)(E.a.mark((function e(){var t,a,n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.token,e.next=3,Q(t);case 3:if(0!==(a=e.sent).response_code){e.next=8;break}this.setState({questions:a,render:!0}),e.next=15;break;case 8:return e.next=10,I();case 10:return n=e.sent,e.next=13,Q(n);case 13:i=e.sent,this.setState({questions:i,render:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nextQuestion",value:function(){var e=this.props.history,t=this.state,a=t.actualQuestion;a===t.questions.length-1?e.push("/feedback"):this.setState({actualQuestion:a+1}),this.changeDisplayHidden()}},{key:"changeDisplayHidden",value:function(){document.querySelector(".next-button").style.visibility="hidden"}},{key:"render",value:function(){var e=this.state,t=e.questions,a=e.actualQuestion,n=e.render;return console.log(t),i.a.createElement("div",null,i.a.createElement(M,null),i.a.createElement("div",{className:"container-question-img"},i.a.createElement("div",null),n&&i.a.createElement(W,{nextQuestion:this.nextQuestion,question:t[a]}),i.a.createElement("div",null,i.a.createElement("img",{className:"play-img",src:z.a,alt:"cat",width:"400"}))))}}]),a}(n.Component)),G=Object(l.b)((function(e){return{token:e.token}}))(K),J=function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props.history;return i.a.createElement("div",null,i.a.createElement("h1",{"data-testid":"ranking-title"},"P\xe1gina do ranking"),i.a.createElement("button",{type:"button","data-testid":"btn-go-home",onClick:function(){e.push("/")}},"Play again"))}}]),a}(n.Component),$=(a(59),function(e){Object(w.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.assertions,a=e.score,n=e.history;return i.a.createElement("div",null,i.a.createElement(M,null),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"subcontainer"},i.a.createElement("p",{className:"feedback-text","data-testid":"feedback-text"},t<3?"Could be better...":"Well Done!"),t<3?i.a.createElement("img",{src:"https://media2.giphy.com/media/P53TSsopKicrm/giphy.gif?cid=790b7611669e76b4cb9e2f2c046dbb4aa4ccc5968da1d660&rid=giphy.gif&ct=g",alt:"celebrate"}):i.a.createElement("img",{src:"https://media1.giphy.com/media/IwAZ6dvvvaTtdI8SD5/giphy.gif?cid=790b7611e7266ed5cbeeaf4113843a7715de200d81b65b78&rid=giphy.gif&ct=g",alt:"celebrate"})),i.a.createElement("div",{className:"main-feedback"},i.a.createElement("span",null,"SCORE:"),i.a.createElement("p",{"data-testid":"feedback-total-score"},a),i.a.createElement("span",null,"ASSERTIONS:"),i.a.createElement("p",{"data-testid":"feedback-total-question"},t)),i.a.createElement("div",{className:"feedback-buttons-container"},i.a.createElement("button",{className:"feedback-buttons",type:"button","data-testid":"btn-play-again",onClick:function(){n.push("/")}},"Play again"),i.a.createElement("button",{className:"feedback-buttons ranking-btn",type:"button","data-testid":"btn-ranking",onClick:function(){n.push("/ranking")}},"Ranking"))))}}]),a}(n.Component)),U=Object(l.b)((function(e){return{score:e.player.score,assertions:e.player.assertions,name:e.player.name,gravatarEmail:e.player.email}}))($);function Z(){return i.a.createElement(l.a,{store:g},i.a.createElement(c.a,{basename:"/project-trivia-react-redux"},i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:"/",component:T}),i.a.createElement(o.a,{exact:!0,path:"/settings",component:R}),i.a.createElement(o.a,{exact:!0,path:"/play",component:G}),i.a.createElement(o.a,{exact:!0,path:"/ranking",component:J}),i.a.createElement(o.a,{exact:!0,path:"/feedback",component:U}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.c5042f2c.chunk.js.map